# 2021 경희대학교 창의적 종합 설계 경진대회 (06/26 ~ 08/25)

## 웨어러블 기기를 이용한 운동 교정

<hr>
### Introduction video : http://gofile.me/6RwKc/3Ev3ASiak


프로젝트 진행시 어려웠던 점을 기록하여 같은 실수를 두 번 반복하지 않도록 하자.

## 프로젝트 요약: 가속도 센서의 오차를 카메라를 이용하여 학습하고 테스트 시에는 가속도 센서만으로 측정할 수 있게 된다.

사용한 센서 : Xsens社의 Xsens Dot 
Xsens는 MEMS(Micro-Electro-Mechanical-System) 센서회사 중 가장 비싸지만 정확하다.

<hr>
### 애로사항
####  (1) 가장 좋은 센서를 사용했지만 오차가 존재하여 이중 적분시 오차가 빠르게 폭발(Integration Drift)
#### -> 수직 방향엔 [4] 적용, 수평 방향에 LSTM 적용
####  (2) 데이터의 싱크를 맞춰야한다.(센서-카메라)
#### -> 푸리에 변환을 통해 싱크를 맞춘다. ( 정확한 이론 이해 못하였음. 이해할 것)
####  (3) 센서 송수신 불량으로 결측값이 존재함
#### -> 센서들의 시간이 겹치는 교집합 만을 사용하고 결측값은 선형보간을 이용한다.
####  (4) WL-Analysis 앱이 인식못하는 운동이 존재함
#### -> 자체 프로그램 개발


<hr>
### 타임라인
<b>프로젝트 초기 (06/26 ~ 07/20) : </b>
    Xsens 센서 사용법을 익히고 센서 데이터를 컴퓨터로 수신하는 방법을 학습.
    관련 논문[1][2][3]을 읽으며 <u>가속도 센서의 가속도로 정확한 위치를 추정</u>(Dead reckoning)이 단순하게 생각했던 것 과는 달리 센서 학계의 궁극적인 목표에 해당할 정도로 어려운 문제임을 깨달음
<b>1차 발표 (07/21) : </b>
    발표 컴퓨터에 ppt 폰트가 다운로드 되어 있지않아 글씨가 깨진채로 발표를 하게 되었다.  
<b>계속되는 시도(07/22 ~ 08/01) : </b>
    이중 적분에 아직 미련을 버리지 못했다. 
<b>방법 변경</b>(08/02 ~ 08/23) : </b>
    기존의 이중 적분 방법에서 카메라의 위치로 맵핑하는 방법으로 변경 (원판 추적 알고리즘을 개발하기에 시간이 없어서 모바일 앱 WL-Analysis를 사용)
    수직 방향, 수평 방향에 <u> 센서 가속도 -> LSTM -> 카메라 위치 </u> 를 학습시키기로 결정.    
    (08/16) : 깃허브를 보며 원판 추적 알고리즘을 개발[draw_line.zip] (그러나 이론을 제대로 이해하지 않고 만들어서 수정을 거치게 되었다.)
<b>등잔 밑이 어두웠다 (08/23 ~ 08/24) : </b>
    최종 발표 하루 전 수직 방향의 경우 별다른 맵핑 없이 신호 처리적 관점으로 해결할 수 있음을 확인[4]
<b>최종 발표 (08/25): </b>
    호재가 발표를 아주 잘했다. 며칠 후 한 교수님 께서 컨택을 요청하셨는데, 더 보완해야겠다.



<hr>
### future work  
#### (1) 수평 방향 오차를 개선할 방법을 추가적으로 고안해야 한다.
#### (2) 가속도 -> 위치 맵핑은 물리량이 다른 탓인지 마음에 들게 작동하지는 않는다. (가속도의 미분 -> 위치 시도해보기)

[1] RIDI: Robust IMU Double Integration (Hang Yan)
[2] 허리 장착 기반의 IMU 센서를 이용한 3D 보행자 위치 추정 알고리즘 연구 (송 준 우)
[3] IMU Acceleration Drift Compensation for Position Tracking in Ambulatory Gait Analysis (Serhat İkizoğlu)
[4] 가속도계를 이용한 파고 알고리즘 개선에 관한 연구 (정 동 근)
